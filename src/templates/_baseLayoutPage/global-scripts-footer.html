<script src="./../_baseLayoutPage/clientlibs/scripts/index.js" type="text/javascript"></script>
<script>
  var allYTPlayersArr = [];
  var ytscripttag = document.createElement('script');
  ytscripttag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(ytscripttag, firstScriptTag);

  function onYouTubePlayerAPIReady() {
    var allYTPlayersElem = Array.prototype.slice.call(document.querySelectorAll('.youtube-video') || []);
    for (var i=allYTPlayersElem.length - 1; i >= 0; i--) {
      var ytelem = allYTPlayersElem[i];
      var ytobj = {};
      var ytid = ytelem.getAttribute('id');
      var ytvideoid = ytelem.getAttribute('data-videoid');
      var ytplayer = new YT.Player(ytid, {
        height: '390',
        width: '640',
        videoId: ytvideoid
        // events: {
        //   'onReady': onPlayerReady,
        //   'onStateChange': onPlayerStateChange
        // }
      });
      ytobj.id = ytid;
      ytobj.videoid = ytvideoid;
      ytobj.player = ytplayer;
      allYTPlayersArr.push(ytobj);
    }
  }
</script>